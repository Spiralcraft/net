<project name="spiralcraft-net" default="build" basedir=".">

  <property name="classpath" value="${spiralcraft-core.jar}"/>
  <property name="module" value="net"/>

  <target name="build">
    <javac srcdir="source" classpath="${classpath}" debug="true"/>
  </target>

  <target name="jar" depends="build">
    <jar 
      destfile="../../lib/spiralcraft-net.jar" 
      basedir="source"
      includes="spiralcraft/**/*.class,spiralcraft/**/*.assembly.xml"
      >
      <Manifest>
        <attribute name="Class-Path" value="spiralcraft-core.jar"/>
      </Manifest>
    </jar>
  </target>

  <target name="doc" depends="build">
		<javadoc 
      classpath="source:${classpath}"
			sourcepath="source"
      packagenames="spiralcraft.**.**"
        
			header="spiralcraft-net API"
			destdir="docs/api"
			author="Spiralcraft, Inc."
			version="v1.0-dev0"
			use="true"
			windowtitle="spiralcraft-net API"
			doctitle="&lt;h1&gt;spiralcraft-net API&lt;/h1&gt;"
			maxmemory="90M"
			failonerror="true"
      >
			<bottom>Copyright 2000,2004 Michael Toth and Spiralcraft, Inc.</bottom>
      <link offline="true" href="../../spiralcraft-core/api"  packagelistLoc="${spiralcraft-core}/docs/api"/>
		</javadoc>
  </target>

  <target name="source" depends="build">
    <jar 
      destfile="../../distrib/spiralcraft-${module}-source.jar" 
      basedir="../../.."
      includes="spiralcraft/modules/${module}/*.xml,spiralcraft/modules/${module}/source/spiralcraft/**/*.java,spiralcraft/modules/${module}/source/spiralcraft/**/*.xml"
      >
    </jar>

  </target>
  
</project>
